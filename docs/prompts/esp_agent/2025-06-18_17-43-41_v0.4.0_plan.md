### Prompt Metadata
Agent: esp_agent
Task: Implement ESP WiFi bridge for v0.4.0
Target File(s): firmware/esp/main.ino
Related Docs: docs/design/protocol_layers.md

### Prompt Body
Implement bidirectional UART communication with the Arduino Due and add Wi-Fi configuration handling. Include a periodic heartbeat as described in `protocol_layers.md`. Log all progress to `docs/progress/2025-06-18_17-43-41_esp_agent_v0.4.0.md`.
