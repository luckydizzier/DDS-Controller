### Prompt Metadata
Agent: test_coverage_agent
Task: Add integration tests for firmware and ESP
Target File(s): tests/integration/test_firmware_esp.py
Related Docs: docs/design/protocol_layers.md

### Prompt Body
Create integration tests covering the interaction between the Arduino firmware and the ESP bridge. Use mocks where hardware is unavailable. Record results to `docs/progress/2025-06-18_17-43-41_test_coverage_agent_v0.4.0.md`.
